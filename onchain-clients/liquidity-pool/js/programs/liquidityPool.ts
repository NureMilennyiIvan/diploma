/**
 * This code was AUTOGENERATED using the codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  containsBytes,
  fixEncoderSize,
  getBytesEncoder,
  type Address,
  type ReadonlyUint8Array,
} from '@solana/kit';
import {
  type ParsedCollectFeesFromCpAmmInstruction,
  type ParsedInitializeAmmsConfigInstruction,
  type ParsedInitializeAmmsConfigsManagerInstruction,
  type ParsedInitializeCpAmmInstruction,
  type ParsedLaunchCpAmmInstruction,
  type ParsedProvideToCpAmmInstruction,
  type ParsedSwapInCpAmmInstruction,
  type ParsedUpdateAmmsConfigFeeAuthorityInstruction,
  type ParsedUpdateAmmsConfigProtocolFeeRateInstruction,
  type ParsedUpdateAmmsConfigProvidersFeeRateInstruction,
  type ParsedUpdateAmmsConfigsManagerAuthorityInstruction,
  type ParsedUpdateAmmsConfigsManagerHeadAuthorityInstruction,
  type ParsedWithdrawFromCpAmmInstruction,
} from '../instructions';

export const LIQUIDITY_POOL_PROGRAM_ADDRESS =
  '2M2QKXZuuERizynTpUwfD7FkdhKHWAFVKiCFGBSxXr3X' as Address<'2M2QKXZuuERizynTpUwfD7FkdhKHWAFVKiCFGBSxXr3X'>;

export enum LiquidityPoolAccount {
  AmmsConfig,
  AmmsConfigsManager,
  CpAmm,
}

export function identifyLiquidityPoolAccount(
  account: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): LiquidityPoolAccount {
  const data = 'data' in account ? account.data : account;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([14, 184, 126, 68, 173, 213, 150, 0])
      ),
      0
    )
  ) {
    return LiquidityPoolAccount.AmmsConfig;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([139, 250, 201, 66, 232, 224, 136, 144])
      ),
      0
    )
  ) {
    return LiquidityPoolAccount.AmmsConfigsManager;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([105, 219, 233, 13, 147, 109, 73, 100])
      ),
      0
    )
  ) {
    return LiquidityPoolAccount.CpAmm;
  }
  throw new Error(
    'The provided account could not be identified as a liquidityPool account.'
  );
}

export enum LiquidityPoolInstruction {
  CollectFeesFromCpAmm,
  InitializeAmmsConfig,
  InitializeAmmsConfigsManager,
  InitializeCpAmm,
  LaunchCpAmm,
  ProvideToCpAmm,
  SwapInCpAmm,
  UpdateAmmsConfigFeeAuthority,
  UpdateAmmsConfigProtocolFeeRate,
  UpdateAmmsConfigProvidersFeeRate,
  UpdateAmmsConfigsManagerAuthority,
  UpdateAmmsConfigsManagerHeadAuthority,
  WithdrawFromCpAmm,
}

export function identifyLiquidityPoolInstruction(
  instruction: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): LiquidityPoolInstruction {
  const data = 'data' in instruction ? instruction.data : instruction;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([54, 226, 123, 162, 0, 184, 158, 206])
      ),
      0
    )
  ) {
    return LiquidityPoolInstruction.CollectFeesFromCpAmm;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([249, 101, 117, 47, 67, 156, 98, 162])
      ),
      0
    )
  ) {
    return LiquidityPoolInstruction.InitializeAmmsConfig;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([128, 200, 181, 18, 56, 7, 176, 7])
      ),
      0
    )
  ) {
    return LiquidityPoolInstruction.InitializeAmmsConfigsManager;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([87, 106, 187, 127, 21, 15, 52, 8])
      ),
      0
    )
  ) {
    return LiquidityPoolInstruction.InitializeCpAmm;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([205, 161, 177, 76, 92, 218, 37, 101])
      ),
      0
    )
  ) {
    return LiquidityPoolInstruction.LaunchCpAmm;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([228, 147, 253, 251, 242, 255, 110, 245])
      ),
      0
    )
  ) {
    return LiquidityPoolInstruction.ProvideToCpAmm;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([61, 164, 214, 168, 232, 232, 147, 137])
      ),
      0
    )
  ) {
    return LiquidityPoolInstruction.SwapInCpAmm;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([135, 191, 58, 216, 110, 155, 53, 191])
      ),
      0
    )
  ) {
    return LiquidityPoolInstruction.UpdateAmmsConfigFeeAuthority;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([97, 206, 55, 252, 22, 232, 158, 134])
      ),
      0
    )
  ) {
    return LiquidityPoolInstruction.UpdateAmmsConfigProtocolFeeRate;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([202, 201, 73, 47, 40, 32, 173, 196])
      ),
      0
    )
  ) {
    return LiquidityPoolInstruction.UpdateAmmsConfigProvidersFeeRate;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([13, 51, 80, 254, 92, 36, 221, 245])
      ),
      0
    )
  ) {
    return LiquidityPoolInstruction.UpdateAmmsConfigsManagerAuthority;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([83, 198, 150, 158, 19, 72, 91, 205])
      ),
      0
    )
  ) {
    return LiquidityPoolInstruction.UpdateAmmsConfigsManagerHeadAuthority;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([199, 54, 177, 131, 202, 241, 176, 155])
      ),
      0
    )
  ) {
    return LiquidityPoolInstruction.WithdrawFromCpAmm;
  }
  throw new Error(
    'The provided instruction could not be identified as a liquidityPool instruction.'
  );
}

export type ParsedLiquidityPoolInstruction<
  TProgram extends string = '2M2QKXZuuERizynTpUwfD7FkdhKHWAFVKiCFGBSxXr3X',
> =
  | ({
      instructionType: LiquidityPoolInstruction.CollectFeesFromCpAmm;
    } & ParsedCollectFeesFromCpAmmInstruction<TProgram>)
  | ({
      instructionType: LiquidityPoolInstruction.InitializeAmmsConfig;
    } & ParsedInitializeAmmsConfigInstruction<TProgram>)
  | ({
      instructionType: LiquidityPoolInstruction.InitializeAmmsConfigsManager;
    } & ParsedInitializeAmmsConfigsManagerInstruction<TProgram>)
  | ({
      instructionType: LiquidityPoolInstruction.InitializeCpAmm;
    } & ParsedInitializeCpAmmInstruction<TProgram>)
  | ({
      instructionType: LiquidityPoolInstruction.LaunchCpAmm;
    } & ParsedLaunchCpAmmInstruction<TProgram>)
  | ({
      instructionType: LiquidityPoolInstruction.ProvideToCpAmm;
    } & ParsedProvideToCpAmmInstruction<TProgram>)
  | ({
      instructionType: LiquidityPoolInstruction.SwapInCpAmm;
    } & ParsedSwapInCpAmmInstruction<TProgram>)
  | ({
      instructionType: LiquidityPoolInstruction.UpdateAmmsConfigFeeAuthority;
    } & ParsedUpdateAmmsConfigFeeAuthorityInstruction<TProgram>)
  | ({
      instructionType: LiquidityPoolInstruction.UpdateAmmsConfigProtocolFeeRate;
    } & ParsedUpdateAmmsConfigProtocolFeeRateInstruction<TProgram>)
  | ({
      instructionType: LiquidityPoolInstruction.UpdateAmmsConfigProvidersFeeRate;
    } & ParsedUpdateAmmsConfigProvidersFeeRateInstruction<TProgram>)
  | ({
      instructionType: LiquidityPoolInstruction.UpdateAmmsConfigsManagerAuthority;
    } & ParsedUpdateAmmsConfigsManagerAuthorityInstruction<TProgram>)
  | ({
      instructionType: LiquidityPoolInstruction.UpdateAmmsConfigsManagerHeadAuthority;
    } & ParsedUpdateAmmsConfigsManagerHeadAuthorityInstruction<TProgram>)
  | ({
      instructionType: LiquidityPoolInstruction.WithdrawFromCpAmm;
    } & ParsedWithdrawFromCpAmmInstruction<TProgram>);
